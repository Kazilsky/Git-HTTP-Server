{% extends "base.html" %}

{% block title %}{{ profile_user.username }} - Gitea Клон{% endblock %}

{% block content %}
<div class="profile-page">
    <div class="profile-header">
        <div class="profile-info">
            <h1>{{ profile_user.username }}</h1>
            <p>{{ profile_user.bio | default(value="Информация о пользователе отсутствует") }}</p>
            <p class="joined">Дата регистрации: {{ profile_user.created_at }}</p>
        </div>
        
        {% if is_own_profile %}
        <div class="profile-actions">
            <a href="/settings/profile" class="btn btn-sm">Настройки профиля</a>
        </div>
        {% endif %}
    </div>
    
    <div class="profile-content">
        <div class="profile-tabs">
            <ul>
                <li class="active"><a href="/user/{{ profile_user.username }}">Репозитории</a></li>
                <li><a href="/user/{{ profile_user.username }}/activity">Активность</a></li>
            </ul>
        </div>
        
        <div class="repos-list">
            <div class="section-header">
                <h2>Репозитории</h2>
                {% if is_own_profile %}
                <a href="/repo/new" class="btn btn-sm">Новый репозиторий</a>
                {% endif %}
            </div>
            
            {% if repos and repos|length > 0 %}
            <div class="repo-grid">
                {% for repo in repos %}
                <div class="repo-card">
                    <h3><a href="/repo/{{ repo.name }}">{{ repo.name }}</a></h3>
                    <p>{{ repo.description | default(value="Нет описания") }}</p>
                    <div class="repo-meta">
                        <span class="visibility">{% if repo.is_public %}"Публичный"{% else %}"Приватный"{% endif %}</span>
                        <span class="created-at">Создан: {{ repo.created_at }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="empty-state">
                <p>
                    {% if is_own_profile %}
                    У вас пока нет репозиториев. <a href="/repo/new">Создайте свой первый репозиторий</a>.
                    {% else %}
                    У пользователя {{ profile_user.username }} пока нет публичных репозиториев.
                    {% endif %}
                </p>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %} 